import{_ as x,o,c as a,a as l,C as he,A as fe,$ as me,Q as Z,r as d,a0 as N,Z as xe,D as X,E as Y,t as G,H as T,I as Q,J as ve,u as V,g as b,h as H,N as we,G as M,b as D,B as R,K as ee,k as Ce,j as P,F as te,L as ne,M as se,w as J,a1 as Te,i as be,a2 as Me,n as le,a3 as Ve,a4 as Pe,T as De,a5 as Le,a6 as Ne,S as Se}from"./entry.LfecROsi.js";import{B as Ge}from"./TextBox.uVFtYDLD.js";const Be={},He={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},Ue=l("path",{d:"M13.28 5.96666L8.9333 10.3133C8.41997 10.8267 7.57997 10.8267 7.06664 10.3133L2.71997 5.96666",stroke:"currentColor","stroke-width":"1.5","stroke-miterlimit":"10","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),Ae=[Ue];function je(e,r){return o(),a("svg",He,Ae)}const ge=x(Be,[["render",je]]),Fe={},Ee={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},Re=l("g",{"clip-path":"url(#clip0_134_1529)"},[l("path",{d:"M5.33334 7.99999H10.6667M8 10.6667V5.33333M6 14.6667H10C13.3333 14.6667 14.6667 13.3333 14.6667 9.99999V5.99999C14.6667 2.66666 13.3333 1.33333 10 1.33333H6C2.66667 1.33333 1.33334 2.66666 1.33334 5.99999V9.99999C1.33334 13.3333 2.66667 14.6667 6 14.6667Z",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})],-1),Ze=l("defs",null,[l("clipPath",{id:"clip0_134_1529"},[l("rect",{width:"16",height:"16",fill:"white"})])],-1),Oe=[Re,Ze];function qe(e,r){return o(),a("svg",Ee,Oe)}const wo=x(Fe,[["render",qe]]),ze={},We={width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Ke=he('<g clip-path="url(#clip0_965_6070)"><path d="M7.33325 1.33334H5.99992C2.66659 1.33334 1.33325 2.66668 1.33325 6.00001V10C1.33325 13.3333 2.66659 14.6667 5.99992 14.6667H9.99992C13.3333 14.6667 14.6666 13.3333 14.6666 10V8.66668" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M10.6933 2.01332L5.43992 7.26665C5.23992 7.46665 5.03992 7.85999 4.99992 8.14665L4.71325 10.1533C4.60659 10.88 5.11992 11.3867 5.84659 11.2867L7.85325 11C8.13325 10.96 8.52659 10.76 8.73325 10.56L13.9866 5.30665C14.8933 4.39999 15.3199 3.34665 13.9866 2.01332C12.6533 0.679985 11.5999 1.10665 10.6933 2.01332Z" stroke="currentColor" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"></path><path d="M9.93994 2.76666C10.161 3.55164 10.5799 4.26671 11.1566 4.84336C11.7332 5.42001 12.4483 5.83894 13.2333 6.06" stroke="currentColor" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"></path></g><defs><clipPath id="clip0_965_6070"><rect width="16" height="16" fill="currentColor"></rect></clipPath></defs>',2),Qe=[Ke];function Je(e,r){return o(),a("svg",We,Qe)}const Co=x(ze,[["render",Je]]),Xe={},Ye={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"none"},et=l("path",{d:"M14 3.98667C11.78 3.76667 9.54667 3.65334 7.32 3.65334C6 3.65334 4.68 3.72 3.36 3.85334L2 3.98667M5.66667 3.31334L5.81333 2.44C5.92 1.80667 6 1.33334 7.12667 1.33334H8.87333C10 1.33334 10.0867 1.83334 10.1867 2.44667L10.3333 3.31334M12.5667 6.09334L12.1333 12.8067C12.06 13.8533 12 14.6667 10.14 14.6667H5.86C4 14.6667 3.94 13.8533 3.86667 12.8067L3.43333 6.09334M6.88667 11H9.10667M6.33333 8.33334H9.66667",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),tt=[et];function nt(e,r){return o(),a("svg",Ye,tt)}const go=x(Xe,[["render",nt]]),ot={},it={width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},lt=l("path",{d:"M14.6666 8.00001C14.6666 11.68 11.6799 14.6667 7.99992 14.6667C4.31992 14.6667 2.07325 10.96 2.07325 10.96M2.07325 10.96H5.08659M2.07325 10.96V14.2933M1.33325 8.00001C1.33325 4.32001 4.29325 1.33334 7.99992 1.33334C12.4466 1.33334 14.6666 5.04001 14.6666 5.04001M14.6666 5.04001V1.70668M14.6666 5.04001H11.7066",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),st=[lt];function rt(e,r){return o(),a("svg",it,st)}const _o=x(ot,[["render",rt]]),at={},ct={width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ut=l("path",{d:"M6.66675 12.6667C6.66675 13.4 7.26675 14 8.00008 14C8.73341 14 9.33342 13.4 9.33341 12.6667C9.33341 11.9334 8.73341 11.3334 8.00008 11.3334C7.26675 11.3334 6.66675 11.9334 6.66675 12.6667ZM6.66675 3.33336C6.66675 4.0667 7.26675 4.6667 8.00008 4.6667C8.73341 4.6667 9.33341 4.0667 9.33341 3.33336C9.33341 2.60003 8.73341 2.00003 8.00008 2.00003C7.26675 2.00003 6.66675 2.60003 6.66675 3.33336ZM6.66675 8.00003C6.66675 8.73336 7.26675 9.33336 8.00008 9.33336C8.73341 9.33336 9.33341 8.73336 9.33341 8.00003C9.33341 7.2667 8.73341 6.6667 8.00008 6.6667C7.26675 6.6667 6.66675 7.2667 6.66675 8.00003Z",stroke:"currentColor","stroke-width":"1.5"},null,-1),dt=[ut];function ht(e,r){return o(),a("svg",ct,dt)}const po=x(at,[["render",ht]]),ft={},mt={width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},vt=he('<g clip-path="url(#clip0_965_6034)"><path d="M10.6667 5.99332V13.5667C10.6667 14.5333 9.97337 14.94 9.12671 14.4733L6.50671 13.0133C6.22671 12.86 5.77337 12.86 5.49337 13.0133L2.87337 14.4733C2.02671 14.94 1.33337 14.5333 1.33337 13.5667V5.99332C1.33337 4.85332 2.26671 3.91998 3.40671 3.91998H8.59337C9.73337 3.91998 10.6667 4.85332 10.6667 5.99332Z" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path><path d="M4.66675 7.99998H7.33341M6.00008 9.33331V6.66665M14.6667 3.40665V10.98C14.6667 11.9466 13.9734 12.3533 13.1267 11.8866L10.6667 10.5133V5.99331C10.6667 4.85331 9.73342 3.91998 8.59342 3.91998H5.33341V3.40665C5.33341 2.26665 6.26675 1.33331 7.40675 1.33331H12.5934C13.7334 1.33331 14.6667 2.26665 14.6667 3.40665Z" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path></g><defs><clipPath id="clip0_965_6034"><rect width="16" height="16" fill="currentColor"></rect></clipPath></defs>',2),wt=[vt];function Ct(e,r){return o(),a("svg",mt,wt)}const ko=x(ft,[["render",Ct]]),gt={},_t={width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},pt=l("path",{d:"M1.93677 13.4994C2.55149 12.4354 3.4354 11.5519 4.4997 10.9376C5.56399 10.3234 6.77119 9.99999 8.00003 10C9.22886 10 10.4361 10.3234 11.5003 10.9377C12.5646 11.552 13.4485 12.4355 14.0632 13.4995",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),kt=l("path",{d:"M8 10C10.2091 10 12 8.20914 12 6C12 3.79086 10.2091 2 8 2C5.79086 2 4 3.79086 4 6C4 8.20914 5.79086 10 8 10Z",stroke:"currentColor","stroke-miterlimit":"10"},null,-1),It=[pt,kt];function $t(e,r){return o(),a("svg",_t,It)}const Io=x(gt,[["render",$t]]),yt=fe("offerPrice",()=>{const{handleCodesMessage:e}=me(),{successHandle:r}=xe(),n=re();Z(n);let v={};const C=d({items:[],customer:{}});d([]);let g=!1;async function m(){await _();try{await N("/offerPrice",{method:"POST",body:JSON.stringify(v)}).then(p=>{p.code==="200"&&r("تم حفظ الفاتورة بنجاح")}).catch(p=>{console.log(p)})}catch(p){console.log(p)}}async function t(p,I=1){try{await N(`/offerPrice/specific-view-data-without-details/${I}`,{branchId:n.GeneralFields.branchGUN,searchText:p||""}).then(w=>{w.code==="200"?n.InvoicesTree=w.data.viewData:e(w.code,w.data.viewMessage)}).catch(w=>{console.log(w)})}catch(w){console.log(w)}}function _(){let p=[];v={...n.GeneralFields};for(let I=0;I<n.NewItems.length-1;I++){const w={...n.NewItems[I]};delete w.name,delete w.unitName,delete w.warehouseName,delete w.forSale,delete w.total,delete w.net,delete w.warehouseQuantity,delete w.unitPriceList,p.push(w)}v.salesmanGUN||delete v.salesmanGUN,n.Customer.gun||delete n.Customer.gun,v.customer=n.Customer;for(const I in n.Customer)Object.hasOwnProperty.call(n.Customer,I)&&n.Customer[I]&&(g=!0);g||v.customer,delete v.totalDiscount,v.items=p}return{NewOfferPrice:C,SaveOfferPriceInvoice:m,GetOfferPriceInvoices:t}}),ue=(e,r)=>{if(e>0){let n=r*(e/100);return parseInt(n)}return 0},re=fe("common",()=>{const{handleCodesMessage:e}=me();yt();const r=d(null),n=d({branchGUN:"",salesmanGUN:"",no:"",isCash:!0,dateTime:"2024-04-17T08:53:05.266Z",isTaxApplied:!0,note:"",priceType:1,dataVersion:"",totalDiscount:0}),v=d({itemsCount:0,quantityCount:0,weight:0,deliveryDate:"",time:"",today:""}),C=d(null),g=d(null),m=d(null),t=d(null),_=d(),p=d(null),I=d(null),w=d(null),B=d(null),F=d(null),U=d(null),oe=d(null),E=d([]),f=d([]),O=d({gun:null,name:null,tin:null,anotherIdType:null,anotherIdValue:null,mobile:null,country:null,area:null,city:null,neighborhood:null,street:null,buildingNo:null,postelCode:null,additionalCode:null,poBox:null,phone:null,fax:null});d([]),d([]);async function q(){try{await N("/Branch/V1").then(i=>{i.code==="200"?p.value=i.data:e(i.code,i.data.veiwMessage)}).catch(i=>{console.log(i)})}catch(i){console.log(i)}}async function ie(i,u){try{await N(`Branch/${i}/branch-data-for-offer-price-preparation`,{params:{isCash:u}}).then(h=>{h.code==="200"?(I.value=h.data.viewData.customers,w.value=h.data.viewData.salesmen,F.value=h.data.viewData.items,n.value.no=h.data.viewData.no):e(h.code,h.data.viewMessage)}).catch(h=>{console.log(h)})}catch{}}async function z(i,u,h){try{await N(`item/${i}/item-data-for-offer-price-preparation`,{params:{branchId:n.value.branchGUN,IsCurrentTaxRequired:n.value.isTaxApplied,isCash:n.value.isCash,docDate:n.value.dateTime}}).then(s=>{var y,S,K,ce;s.code==="200"?(h&&(alert(i),f.value[u].name=h,f.value[u].itemGUN=i),E.value.splice(u,1,s.data.viewData),f.value[u].taxValue=s.data.viewData.currentTaxValue,f.value[u].unitPriceList=[{id:1,price:(y=s.data.viewData.nonServiceData)==null?void 0:y.units[0].sellingPrice},{id:2,price:(S=s.data.viewData.nonServiceData)==null?void 0:S.units[0].lowestPrice},{id:3,price:(K=s.data.viewData.nonServiceData)==null?void 0:K.units[0].wholesalePrice},{id:4,price:(ce=s.data.viewData.nonServiceData)==null?void 0:ce.units[0].costPrice}],j(u)):e(s.code,s.data.viewMessage)}).catch(s=>{console.log(s)})}catch{}}async function W(i){try{await N("item/tax",{params:{ItemId:i,dateTime:"2024-04-17T08:53:05.266Z"}}).then(u=>{u.code==="200"?u.data.viewData.forEach((h,s)=>{f.value[s].taxValue=ue(h.taxValue,f.value[s].total),f.value[s].net=ue(h.taxValue,f.value[s].total)+f.value[s].total-f.value[s].discount}):e(u.code,u.data[0].viewMessage)}).catch(u=>{console.log(u)})}catch{}}async function c(i,u,h){try{await N(`item/${i}/main-unit-available-quantity`,{params:{warehouseId:u}}).then(s=>{s.code==="200"?f.value[h].warehouseQuantity=s.data.viewData:e(s.code,s.data[0].viewMessage)}).catch(s=>{console.log(s)})}catch{}}async function $(i,u,h,s){try{await N(`item/${i}/alternatives-to-view-in-docs`,{params:{branchId:n.value.branchGUN,docType:u,searchText:h||"",isCash:n.value.isCash,pageNumber:s||1,IsCurrentTaxRequired:n.value.isTaxApplied}}).then(y=>{y.code==="200"?(m.value=i,C.value=y.data.viewData):e(y.code,y.data.viewMessage)}).catch(y=>{console.log(y)})}catch{}}async function A(i,u,h){try{await N(`item/${i}/alternatives-to-insert-in-docs`,{params:{branchId:n.value.branchGUN,alternativeId:u,docType:h,isCash:n.value.isCash,IsCurrentTaxRequired:n.value.isTaxApplied}}).then(s=>{if(s.code==="200"){let y=f.value.findIndex(S=>S.itemGUN===m.value);if(y>=0){console.log(s);let S=s.data.viewData;z(u,y,s.data.viewData.itemName)}}else e(s.code,s.data.viewMessage)}).catch(s=>{console.log(s)})}catch{}}async function k(i,u){try{await N(`item/${i}/accessories-to-insert-in-docs`,{params:{branchId:n.value.branchGUN,docType:u,isCash:n.value.isCash,IsCurrentTaxRequired:n.value.isTaxApplied}}).then(h=>{if(h.code==="200"){let s=f.value.findIndex(y=>y.itemGUN===i);if(s>=0){let y=h.data.viewData;for(let S=0;S<y.length;S++){const K=y[S];f.value[s+1]=L(K),s++,j(),E.value.push({})}f.value[s+1]}}else e(h.code,h.data.viewMessage)}).catch(h=>{console.log(h)})}catch{}}function L(i){return{name:i.itemName,unitName:i.unitName,warehouseName:i.warehouseName,forSale:null,itemGUN:i.itemGUN,warehouseGUN:i.warehouseGUN,unitGUN:i.unitGUN,price:i.currentSellingPrice,costPrice:i.currentCostPrice,quantity:1,unitPriceList:[{id:1,price:i.currentSellingPrice},{id:2,price:i.currentLowestPrice},{id:3,price:i.currentWholesalePrice},{id:4,price:i.currentCostPrice}],total:i.currentSellingPrice*1,net:i.currentSellingPrice*1,taxValue:null,discount:i.currentDefaultDiscountPercentage}}function j(i){f.value[f.value.length-1].itemGUN!==""&&f.value.push({name:"",unitName:"",warehouseName:"",forSale:null,itemGUN:"",warehouseGUN:"",unitGUN:"",price:0,costPrice:0,quantity:0,unitPriceList:[],total:0,net:0,taxValue:null,discount:B.value||0})}function pe(i){f.value[i].itemGUN&&f.value.splice(i,1)}function ke(i,u){f.value[u].unitPriceList[0].price=i.sellingPrice,f.value[u].unitPriceList[1].price=i.lowestPrice,f.value[u].unitPriceList[2].price=i.wholesalePrice,f.value[u].unitPriceList[3].price=i.costPrice}function Ie(){f.value.push({name:"",unitName:"",warehouseName:"",forSale:null,itemGUN:"",warehouseGUN:"",unitGUN:"",price:0,unitPriceList:[],costPrice:1,quantity:0,total:0,net:0,taxValue:null,discount:B.value||0}),t.value=[{id:1,name:"سعر البيع"},{id:2,name:"أدنى سعر بيع"},{id:3,name:"سعر الجملة"},{id:4,name:"سعر التكلفة"}],_.value=[{id:!1,name:"بدون"},{id:!0,name:"حسب المجموعة الضريبية"}]}function $e(i,u){f.value[u].price=i}function ye(){p.value=null,I.value=null,ae(),w.value=null,F.value=null,U.value=null,t.value=null,_.value=null,n.value={branchGUN:"",salesmanGUN:"",no:0,isCash:!0,dateTime:"2024-04-01T10:16:00.158Z",isTaxApplied:!0,note:"",priceType:0,dataVersion:"",items:[],customer:{}},f.value=[]}function ae(){O.value={gun:"",name:"",tin:"",anotherIdType:0,anotherIdValue:"",mobile:"",country:"",area:"",city:"",neighborhood:"",street:"",buildingNo:"",postelCode:"",additionalCode:"",poBox:"",phone:"",fax:""}}return{InvoicesTree:r,GeneralFields:n,FooterDetails:v,Branches:p,Customers:I,Customer:O,CustomerDiscount:B,SalesMen:w,Items:F,ItemId:m,NewItems:f,AlternativesItems:C,SelectedAlternative:g,Units:U,Warehouses:oe,ItemDetails:E,PriceType:t,TaxApplied:_,GetBranches:q,GetBranchDataForOfferPrice:ie,GetItemDetails:z,GetItemsTaxes:W,GetItemQuantityByWarehouse:c,GetAlternativesItems:$,GetInsertAlternativesItems:A,GetInsertAccessoriesItems:k,setPriceList:ke,SetDefaultFields:Ie,setPriceInItem:$e,RemoveItem:pe,ClearEverythings:ye,ClearCustomer:ae}}),xt={},Tt={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"none"},bt=l("path",{d:"M13.9961 14L12.7961 12.8M7.69609 13.4C8.44463 13.4 9.18583 13.2526 9.87739 12.9661C10.5689 12.6797 11.1973 12.2598 11.7266 11.7305C12.2559 11.2012 12.6758 10.5729 12.9622 9.8813C13.2487 9.18974 13.3961 8.44853 13.3961 7.7C13.3961 6.95147 13.2487 6.21026 12.9622 5.5187C12.6758 4.82715 12.2559 4.19879 11.7266 3.66949C11.1973 3.1402 10.5689 2.72034 9.87739 2.43389C9.18583 2.14743 8.44463 2 7.69609 2C6.18436 2 4.73454 2.60053 3.66558 3.66949C2.59663 4.73845 1.99609 6.18827 1.99609 7.7C1.99609 9.21173 2.59663 10.6616 3.66558 11.7305C4.73454 12.7995 6.18436 13.4 7.69609 13.4Z",stroke:"#292929","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),Mt=[bt];function Vt(e,r){return o(),a("svg",Tt,Mt)}const Pt=x(xt,[["render",Vt]]),Dt={key:0},Lt=["disabled","placeholder","readonly"],Nt={class:"icons"},St={__name:"Search",props:X(["label","color","disabled","background","placeholder","clearable","readOnly","rightIcon","leftIcon","badgeText","fullWidth","badgeColor","leftIconToolTip","leftIconToolTipPosition","leftInnerIconToolTip","leftInnerIconToolTipPosition"],{input:{},inputModifiers:{}}),emits:["update:input"],setup(e){const r=Y(e,"input"),n=d(!1);function v(){r.value="",n.value=!1}function C(t){console.log(t),t?(n.value=!0,r.value=t):n.value=!1}function g(){r.value>0&&(n.value=!0)}function m(){r.value||(n.value=!1)}return(t,_)=>(o(),a("div",{class:M(["input-group",{"full-width":e.fullWidth}])},[e.label?(o(),a("label",Dt,G(e.label),1)):T("",!0),l("div",{class:M(["input-container",[e.color,e.background,{disabled:e.disabled},{readonly:e.readOnly}]])},[Q(l("input",{type:"input",disabled:e.disabled,placeholder:e.placeholder,"onUpdate:modelValue":_[0]||(_[0]=p=>r.value=p),readonly:e.readOnly,onInput:_[1]||(_[1]=p=>C(p.target.value)),onFocus:g,onBlur:m},null,40,Lt),[[ve,r.value]]),l("div",Nt,[V(n)?(o(),b(H(we),{key:0,onClick:v,class:"close-icon"})):T("",!0),(o(),b(H(Pt)))])],2)],2))}},Gt=St,Bt={},Ht={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},Ut=l("path",{d:"M2.93994 13.28L7.28661 8.93337C7.79994 8.42003 7.79994 7.58003 7.28661 7.0667L2.93994 2.72003",stroke:"currentColor","stroke-width":"1.5","stroke-miterlimit":"10","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),At=l("path",{d:"M8.27344 13.28L12.6201 8.93337C13.1334 8.42003 13.1334 7.58003 12.6201 7.0667L8.27344 2.72003",stroke:"currentColor","stroke-width":"1.5","stroke-miterlimit":"10","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),jt=[Ut,At];function Ft(e,r){return o(),a("svg",Ht,jt)}const Et=x(Bt,[["render",Ft]]),Rt={},Zt={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"none"},Ot=l("path",{d:"M5.94 13.28L10.2867 8.93333C10.8 8.42 10.8 7.58 10.2867 7.06667L5.94 2.72",stroke:"currentColor","stroke-width":"1.5","stroke-miterlimit":"10","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),qt=[Ot];function zt(e,r){return o(),a("svg",Zt,qt)}const Wt=x(Rt,[["render",zt]]),Kt={},Qt={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},Jt=l("path",{d:"M7.66673 13.28L3.32006 8.93337C2.80673 8.42003 2.80673 7.58003 3.32006 7.0667L7.66673 2.72003",stroke:"currentColor","stroke-width":"1.5","stroke-miterlimit":"10","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),Xt=l("path",{d:"M12.9997 13.28L8.65307 8.93337C8.13973 8.42003 8.13973 7.58003 8.65307 7.0667L12.9997 2.72003",stroke:"currentColor","stroke-width":"1.5","stroke-miterlimit":"10","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),Yt=[Jt,Xt];function en(e,r){return o(),a("svg",Qt,Yt)}const tn=x(Kt,[["render",en]]),nn={},on={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},ln=l("path",{d:"M10 13.28L5.65334 8.93333C5.14001 8.42 5.14001 7.58 5.65334 7.06667L10 2.72",stroke:"currentColor","stroke-width":"1.5","stroke-miterlimit":"10","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),sn=[ln];function rn(e,r){return o(),a("svg",on,sn)}const an=x(nn,[["render",rn]]),cn={class:"Pagenation_Items row"},un={class:"total flex-grow"},dn={__name:"PagenationItems",setup(e){const r=re(),{InvoicesTree:n}=Z(r);return(v,C)=>{var g,m;return o(),a("div",cn,[D(R,{onlyIcon:!0,icon:Et,outline:!0,size:"x-small"}),D(R,{onlyIcon:!0,icon:Wt,outline:!0,size:"x-small"}),l("span",un,G((g=V(n))==null?void 0:g.currentPage)+"/"+G((m=V(n))==null?void 0:m.totalPages),1),D(R,{onlyIcon:!0,icon:an,outline:!0,size:"x-small"}),D(R,{onlyIcon:!0,icon:tn,outline:!0,size:"x-small"})])}}},hn=dn,fn={key:0},mn={class:"text"},vn={class:"icons"},wn={class:"icon"},Cn={class:"icon"},gn={key:1,class:"dropMenu"},_n={__name:"DropDown",props:X(["text","leftIcon","color","value","disabled","items","label","displayTitle","returnValue","DropArrowIcon"],{input:{},inputModifiers:{}}),emits:["update:input"],setup(e){const r=Y(e,"input"),n=d(!1);ee(()=>{window.addEventListener("click",()=>{n.value=!1},!0)}),Ce(()=>{window.removeEventListener("click",()=>{})});const v=d(!1);function C(g){r.value=g,v.value=g}return(g,m)=>(o(),a("div",{class:M(["dropDown-container",[{disabled:e.disabled}]])},[e.label?(o(),a("label",fn,G(e.label),1)):T("",!0),l("div",{class:M(["dropDown",[e.color]]),onClick:m[0]||(m[0]=P(t=>n.value=!n.value,["stop"]))},[l("span",mn,G(v.value?v.value:e.text),1),l("div",vn,[l("div",wn,[(o(),b(H(e.leftIcon)))]),l("div",Cn,[(o(),b(H(e.DropArrowIcon?e.DropArrowIcon:ge),{class:M({"active-menu":n.value})},null,8,["class"]))])])],2),n.value?(o(),a("div",gn,[(o(!0),a(te,null,ne(e.items,t=>(o(),b(se,{key:t[e.returnValue],text:t[e.displayTitle],selected:t[e.returnValue]===v.value,onClick:_=>C(t[e.displayTitle],t[e.returnValue])},null,8,["text","selected","onClick"]))),128))])):T("",!0)],2))}},pn=_n,kn={},In={width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},$n=l("path",{d:"M4.55501 4H8.2409C8.54737 4 8.8 4.21933 8.8 4.48539V5.01752C8.8 5.21168 8.65919 5.45258 8.52252 5.57483L7.3215 6.49527C7.15584 6.61752 7.04402 6.85842 7.04402 7.05257V8.09527C7.04402 8.23909 6.9322 8.43324 6.79139 8.50875L6.4021 8.72807C6.03765 8.92223 5.53653 8.70291 5.53653 8.31459V7.031C5.53653 6.86201 5.42471 6.64269 5.31289 6.52044L4.25268 5.54966C4.11187 5.42741 4.00005 5.21168 4.00005 5.06427V4.50696C3.99591 4.21933 4.24854 4 4.55501 4Z",stroke:"currentColor","stroke-width":"1.3","stroke-miterlimit":"10","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),yn=l("path",{d:"M2.3999 7.93201V9.63241C2.3999 12.4664 3.5199 13.6 6.3199 13.6H9.6799C12.4799 13.6 13.5999 12.4664 13.5999 9.63241V6.2316C13.5999 4.46318 13.1631 3.35225 12.1495 2.77411C11.8639 2.60974 11.2927 2.48504 10.7719 2.40002M8.5599 8.49881H11.3599M7.4399 10.766H11.3599",stroke:"currentColor","stroke-width":"1.3","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),xn=[$n,yn];function Tn(e,r){return o(),a("svg",In,xn)}const bn=x(kn,[["render",Tn]]),Mn={},Vn={xmlns:"http://www.w3.org/2000/svg",width:"17",height:"16",viewBox:"0 0 17 16",fill:"none"},Pn=l("path",{d:"M2.88672 3.44H12.1134C13.2201 3.44 14.1134 4.33334 14.1134 5.44V7.65334",stroke:"currentColor","stroke-width":"1.5","stroke-miterlimit":"10","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),Dn=l("path",{d:"M4.99339 1.33333L2.88672 3.43999L4.99339 5.54666M14.1134 12.56H4.88672C3.78005 12.56 2.88672 11.6667 2.88672 10.56V8.34666",stroke:"currentColor","stroke-width":"1.5","stroke-miterlimit":"10","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),Ln=l("path",{d:"M12.0066 14.6667L14.1133 12.56L12.0066 10.4533",stroke:"currentColor","stroke-width":"1.5","stroke-miterlimit":"10","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),Nn=[Pn,Dn,Ln];function Sn(e,r){return o(),a("svg",Vn,Nn)}const Gn=x(Mn,[["render",Sn]]),Bn={},Hn={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 15 16",fill:"none"},Un=l("path",{d:"M10.6111 0H4.38889C1.66667 0 0.5 1.6 0.5 4V12C0.5 14.4 1.66667 16 4.38889 16H10.6111C13.3333 16 14.5 14.4 14.5 12V4C14.5 1.6 13.3333 0 10.6111 0ZM4.38889 8.2H7.5C7.81889 8.2 8.08333 8.472 8.08333 8.8C8.08333 9.128 7.81889 9.4 7.5 9.4H4.38889C4.07 9.4 3.80556 9.128 3.80556 8.8C3.80556 8.472 4.07 8.2 4.38889 8.2ZM10.6111 12.6H4.38889C4.07 12.6 3.80556 12.328 3.80556 12C3.80556 11.672 4.07 11.4 4.38889 11.4H10.6111C10.93 11.4 11.1944 11.672 11.1944 12C11.1944 12.328 10.93 12.6 10.6111 12.6ZM12.5556 5.8H11C9.81778 5.8 8.86111 4.816 8.86111 3.6V2C8.86111 1.672 9.12556 1.4 9.44444 1.4C9.76333 1.4 10.0278 1.672 10.0278 2V3.6C10.0278 4.152 10.4633 4.6 11 4.6H12.5556C12.8744 4.6 13.1389 4.872 13.1389 5.2C13.1389 5.528 12.8744 5.8 12.5556 5.8Z",fill:"currentColor"},null,-1),An=[Un];function jn(e,r){return o(),a("svg",Hn,An)}const de=x(Bn,[["render",jn]]),Fn={},En={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"none"},Rn=l("path",{d:"M15.2136 4.7936C15.532 5.2464 15.1528 5.8 14.5984 5.8H0.8C0.587827 5.8 0.384344 5.71571 0.234315 5.56569C0.0842854 5.41566 0 5.21217 0 5V3.536C0 1.584 1.584 0 3.536 0H5.392C6.696 0 7.104 0.424 7.624 1.12L8.744 2.608C8.992 2.936 9.024 2.976 9.488 2.976H11.72C13.164 2.976 14.4416 3.6936 15.2136 4.7936ZM15.1864 7C15.3982 7 15.6013 7.08396 15.7512 7.23347C15.9012 7.38298 15.9858 7.58584 15.9864 7.7976L16 11.72C16 14.08 14.08 16 11.72 16H4.28C1.92 16 0 14.08 0 11.72V7.8C0 7.58783 0.0842854 7.38434 0.234315 7.23431C0.384344 7.08429 0.587827 7 0.8 7H15.1864Z",fill:"currentColor"},null,-1),Zn=[Rn];function On(e,r){return o(),a("svg",En,Zn)}const qn=x(Fn,[["render",On]]),zn={class:"tree"},Wn={class:"gap-4 row"},Kn={class:"icon rowIcon"},Qn={class:"icon"},Jn={key:1},Xn={__name:"Tree",props:["text","displayTitle","returnValue","arrowIcon","itemIcon","leftIcon","item","noRepeat","secondaryTitle"],setup(e){const r=d(!1);ee(()=>{document.querySelectorAll(".tree li .item-row").forEach((g,m)=>{g.addEventListener("click",()=>{g.classList.contains("selected")||(C(),g.classList.add("selected"))})});function C(){document.querySelectorAll(".tree li .item-row").forEach(m=>{m.classList.remove("selected")})}});function n(){r.value=!r.value}return(v,C)=>(o(),a("ul",zn,[l("li",null,[e.item?(o(),a("div",{key:0,class:"row item-row",onClick:P(n,["stop"])},[l("div",Wn,[l("div",Kn,[(o(),b(H(de)))]),l("span",null,"# "+G(e.item[e.displayTitle])+" "+G(e.item[e.secondaryTitle]?e.item[e.secondaryTitle].name:""),1)]),l("div",Qn,[(o(),b(H(e.leftIcon)))])])):T("",!0),V(r)?(o(),a("div",Jn,[D(Te,{appear:"",name:"fade"},{default:J(()=>{var g;return[(o(!0),a(te,null,ne((g=e.item)==null?void 0:g.child,(m,t)=>(o(),b(_e,{key:t,icon:m.child.length===0?de:qn,leftIcon:e.noRepeat?void 0:Gn,item:m},null,8,["icon","leftIcon","item"]))),128))]}),_:1})])):T("",!0)])]))}},_e=Xn,Yn={class:"treeSide"},eo={class:"row align-center gap-10"},to={key:0,class:"tree-container"},no={__name:"InvoicesTree",setup(e){const r=be(),n=re(),{Branches:v,InvoicesTree:C}=Z(n),{Permissions:g}=Z(r);return d([]),ee(async()=>{await n.GetBranches()}),(m,t)=>{var _,p;return o(),a("div",null,[l("div",Yn,[D(Gt,{placeholder:"رقم الفاتورة, اسم العميل"}),D(hn),l("div",eo,[D(pn,{text:"كل الفروع",items:V(v),displayTitle:"name2",returnValue:"gun",class:"flex-grow"},null,8,["items"]),D(R,{onlyIcon:!0,icon:bn})]),(_=V(g))!=null&&_.canView?(o(),a("div",to,[(o(!0),a(te,null,ne((p=V(C))==null?void 0:p.data,(I,w)=>(o(),b(_e,{key:w,displayTitle:"no",secondaryTitle:"customer",returnValue:"gun",item:I,noRepeat:!0},null,8,["item"]))),128))])):T("",!0)])])}}},$o=no,oo={key:0},io=["disabled","placeholder","readonly"],lo={key:0},so={key:1,class:"icons combobox"},ro={class:"icon"},ao={key:0},co={key:0,class:"trigger"},uo={key:0,class:"trigger"},ho={__name:"ComboBox",props:X(["label","color","items","index","displayTitle","disabled","background","returnValue","placeholder","bigData","clearable","readOnly","leftInnerIconItem","rightIcon","leftIcon","badgeText","noFilter","size","isPage","fullWidth","selectFirstItem","badgeColor","leftInnerIcon","leftIconToolTip","leftIconToolTipPosition","leftInnerIconToolTip","leftInnerIconToolTipPosition","DropArrowIcon","selectItem"],{input:{},inputModifiers:{},valueReturn:{},valueReturnModifiers:{}}),emits:X(["openAdvanceSearchModel","getMoreItems","getItemBySearch","setInput","setItem"],["update:input","update:valueReturn"]),setup(e,{emit:r}){const n=Me();Z(n);const v=r,C=Y(e,"input"),g=Y(e,"valueReturn"),m=d("");d("");const t=e,_=d(-1),p=d(null),I=d(!1);let w=null;ee(()=>{window.addEventListener("click",()=>{I.value=!1},!0),F()}),Ce(()=>{window.removeEventListener("click",()=>{})}),le(()=>t.items,c=>{c&&(C.value="",c.length>0&&t.selectFirstItem&&q(c[0]))}),le(C,c=>{oe(c),c===""&&(m.value="",g.value="")}),le(()=>t.selectItem,c=>{c&&q(c)});let B=Ve(()=>t.noFilter||m.value?t.items:t.items.filter(c=>c[t.displayTitle].includes(C.value)));function F(){w=new IntersectionObserver($=>{$[0].isIntersecting&&v("getMoreItems")},{threshold:0}),document.querySelectorAll(".trigger").forEach($=>{w.observe($)})}function U(c,$){m.value!==$?(m.value=$,g.value=$,C.value=c,p.value.focus(),v("setItem",$,t.index)):p.value.focus()}function oe(c){C.value=c,v("setInput",c),c===""&&(m.value=""),t.isPage&&v("getItemBySearch",C.value)}function E(){setTimeout(()=>{I.value=!1},100)}function f(){I.value=!0}function O(){C.value||n.setIsCtrlPressed()}function q(c){C.value=c[t.displayTitle],m.value=c[t.returnValue],g.value=c[t.returnValue],v("setItem",c[t.returnValue],t.index)}function ie(){C.value=""}function z(c){var $,A,k,L;c.key==="ArrowDown"||c.key==="ArrowUp"?(c.preventDefault(),c.key==="ArrowDown"?(console.log(document.activeElement),_.value=(_.value+1)%t.items.length):_.value=(_.value-1+t.items.length)%t.items.length):c.key==="Enter"&&($=t.items[_.value])!=null&&$[t.displayTitle]&&(A=t.items[_.value])!=null&&A[t.returnValue]&&U((k=t.items[_.value])==null?void 0:k[t.displayTitle],(L=t.items[_.value])==null?void 0:L[t.returnValue])}function W(c){_.value=c}return(c,$)=>{const A=Pe("move-next-on-enter");return Q((o(),a("div",{class:M(["input-group",{"full-width":e.fullWidth}]),onFocusout:P(E,["stop"])},[e.label?(o(),a("label",oo,G(e.label),1)):T("",!0),l("div",{class:M(["input-container",[e.size,e.color,e.background,{disabled:e.disabled},{readonly:e.readOnly}]]),onClick:$[1]||($[1]=P(k=>I.value=!I.value,["stop"]))},[Q(l("input",{onKeydown:[P(z,["exact"]),P(O,["ctrl"])],tabindex:"0",ref_key:"inputElement",ref:p,type:"input",disabled:e.disabled,placeholder:e.placeholder,onFocus:P(f,["stop"]),"onUpdate:modelValue":$[0]||($[0]=k=>C.value=k),readonly:e.readOnly,class:"combobox"},null,40,io),[[ve,C.value]]),C.value&&e.clearable?(o(),a("div",lo,[D(we,{class:"closeIcon",onClick:ie})])):T("",!0),e.leftInnerIcon||e.badgeText?(o(),a("div",so,[e.badgeText?(o(),b(Ge,{key:0,text:e.badgeText,color:e.badgeColor},null,8,["text","color"])):T("",!0),D(De,{text:e.leftInnerIconToolTip,position:e.leftInnerIconToolTipPosition},{default:J(()=>[(o(),b(H(e.leftInnerIcon)))]),_:1},8,["text","position"])])):T("",!0),l("div",ro,[(o(),b(H(e.DropArrowIcon?e.DropArrowIcon:ge),{class:M({"active-menu":I.value&&!e.disabled})},null,8,["class"]))])],2),Q(l("div",{class:M(["dropMenu",{virtual:t.bigData}])},[e.items&&!e.bigData?(o(),a("div",ao,[(o(!0),a(te,null,ne(V(B),k=>{var L;return o(),b(se,{key:k[t.returnValue],text:k[t.displayTitle],leftInnerIcon:k[t.leftInnerIconItem]?e.leftInnerIcon:void 0,leftInnerIconToolTip:k[t.leftInnerIconItem]?e.leftInnerIconToolTip:void 0,leftInnerIconToolTipPosition:"bottom-right",selected:k[t.returnValue]===m.value,onClick:P(j=>U(k[t.displayTitle],k[t.returnValue]),["stop"]),onKeydown:$[2]||($[2]=P(j=>W(e.index),["prevent"])),class:M({focus:((L=V(B)[_.value])==null?void 0:L[t.returnValue])===k[t.returnValue]})},null,8,["text","leftInnerIcon","leftInnerIconToolTip","selected","onClick","class"])}),128)),e.isPage?(o(),a("div",co,"جاري جلب الأصناف...")):T("",!0)])):T("",!0),e.items&&e.bigData?(o(),b(V(Ne),{key:1,items:V(B),keyField:e.returnValue,"min-item-size":32},Le({default:J(({item:k})=>{var L;return[(o(),b(se,{class:M({focus:((L=V(B)[_.value])==null?void 0:L[t.returnValue])===k[t.returnValue]}),key:k[t.returnValue],text:k[t.displayTitle],selected:k[t.returnValue]===m.value,onClick:P(j=>U(k[t.displayTitle],k[e.returnValue]),["stop"]),onKeydown:$[3]||($[3]=P(j=>W(e.index),["prevent"]))},null,8,["class","text","selected","onClick"]))]}),_:2},[e.isPage?{name:"after",fn:J(()=>[e.items?(o(),a("div",uo,"جاري جلب الأصناف...")):T("",!0)]),key:"0"}:void 0]),1032,["items","keyField"])):T("",!0)],2),[[Se,I.value&&!e.disabled]])],34)),[[A]])}}},yo=ho,fo={__name:"Tab",props:["text","color","disabled"],setup(e){return(r,n)=>(o(),a("div",{class:M(["tab",[e.color,{disabled:e.disabled}]])},[l("span",null,G(e.text),1)],2))}},xo=fo;export{wo as A,yo as C,go as D,Co as E,$o as I,po as M,_o as R,ko as S,xo as T,Io as U,ge as a,Pt as b,yt as c,ue as d,re as u};
